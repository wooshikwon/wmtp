# MacBook M3 Test Configuration for Rho1 WMTP Algorithm
# Optimized for Apple Silicon with MPS (Metal Performance Shaders)

# Project metadata
project: "wmtp_m3_test_rho1"
seed: 42

# Storage configuration - local only for testing
storage:
  mode: "local"

# Path configurations
paths:
  models:
    base: "tests/tiny_models/distilgpt2"  # Tiny test model
    # No RM needed for rho1
    ref: "tests/tiny_models/distilgpt2"  # Reference model for Rho1 CE comparison
  datasets:
    mbpp: "tests/test_dataset/mbpp"
    contest: "tests/test_dataset/contest"
    humaneval: "tests/test_dataset/humaneval"

# MLflow configuration - local tracking
mlflow:
  experiment: "wmtp/m3_test_rho1"
  tracking_uri: "file:///tmp/mlflow_m3"
  registry_uri: "file:///tmp/mlflow_m3"

# Launcher configuration
launcher:
  target: "local"
  resources:
    gpus: 1
    gpu_type: "mps"
    cpus: 8
    memory_gb: 64
    disk_gb: 100

# Device configuration for MacBook M3
devices:
  compute_backend: "mps"
  mixed_precision: "fp32"
  fsdp:
    enabled: false
    auto_wrap: false
    activation_ckpt: false
    sharding: "full"